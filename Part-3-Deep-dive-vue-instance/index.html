<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=
    , initial-scale=1.0"
    />
    <title>Document</title>
    <style type="text/css"></style>
  </head>
  <body>
    <div id="app">
      <p>Counter: {{ counter }}</p>

      <button @click="counter++">Increase Counter</button>

      <button @click="person.name.firstName = 'Andy'">Change first name</button>
    </div>

    <script src="vue.js"></script>
    <script type="text/javascript">
      const vm = new Vue({
        el: "#app",
        data: {
          counter: 1,
          person: {
            name: {
              firstName: "Werner",
              lastName: "van der Merwe",
            },
          },
        },
      });

      // vm.$watch("counter", function (newValue, oldValue) {
      //   alert(`Counter changed from ${oldValue} to ${newValue}`);
      // });

      // vm.$watch("person.name.firstName", function (newValue, oldValue) {
      //   alert(`First name changed from ${oldValue} to ${newValue}`);
      // });

      // vm.$watch(
      //   "person.name",
      //   function (newValue, oldValue) {
      //     alert(
      //       `First name changed from ${oldValue.firstName} to ${newValue.firstName}`
      //     );
      //   },
      //   { deep: true }
      // );

      const unwatch = vm.$watch(
        function () {
          return this.counter;
        },
        function (newValue, oldValue) {
          alert(`Counter changed from ${oldValue} to ${newValue}`);
        }
      );

      setTimeout(function () {
        unwatch();
      }, 5000);
    </script>
  </body>
</html>
